<div class="navbar bg-secondary">
    <div class="navbar-start flex">
        <a routerLink="/" class="text-xl mr-2"><app-logo height="4rem" /></a>
        @if (authService.isLoggedIn()) {
            <ul class="menu menu-horizontal px-1 gap-4">
                <li>
                    <a id="challenges-navbar-button" routerLink="/challenges/{{
                        this.authService.getUserInfo().id
                    }}">Desafios</a>
                </li>
                <li><a routerLink="/store">Loja</a></li>

                @if (authService.getUserInfo().isAdmin) {
                    <li>
                        <div class="dropdown dropdown-end">
                            <div id="navbar-admin-dropdown-button" tabindex="0" role="button">
                                Admin
                            </div>
                            <div
                                tabindex="0"
                                class="menu menu-sm dropdown-content bg-base-100 z-1 mt-1 p-2 shadow-sm w-auto">
                                <div
                                    class="flex flex-col items-start justify-center">
                                    <a
                                        id="admin-users-navbar-button"
                                        class="block px-4 py-2 hover:bg-gray-100 w-[100%]"
                                        >Utilizadores</a
                                    >

                                    <a
                                        id="admin-challenges-navbar-button"
                                        class="block px-4 py-2 hover:bg-gray-100 w-[100%]"
                                        >Desafios</a
                                    >

                                    <a
                                        id="admin-tags-navbar-button"
                                        class="block px-4 py-2 hover:bg-gray-100 w-[100%]"
                                        routerLink="/admin/tags"
                                        >Tags</a
                                    >

                                    <a
                                        id="admin-stats-navbar-button"
                                        class="block px-4 py-2 hover:bg-gray-100 w-[100%]"
                                        routerLink="/admin/tags"
                                        >Estat√≠stica</a
                                    >
                                </div>
                            </div>
                        </div>
                    </li>
                }
            </ul>
        }
    </div>

    @if (!authService.isLoggedIn()) {
        <div class="navbar-end flex-none">
            <ul class="menu menu-horizontal px-1">
                <li routerLink="/login"><a>Login</a></li>
                <li routerLink="/register"><a>Registo</a></li>
            </ul>
        </div>
    } @else {
        <div class="navbar-end flex gap-2">
            <div class="dropdown dropdown-end">
                <div
                    id="navbar-user-icon"
                    tabindex="0"
                    role="button"
                    class="btn btn-ghost btn-circle avatar">
                    <div class="w-10 rounded-full">
                        <img
                            alt="{{ authService.getUserInfo().username }}"
                            src="/user-icon.jpg" />
                    </div>
                </div>
                <div
                    tabindex="0"
                    class="divide-y divide-gray-100 menu menu-sm dropdown-content bg-base-100 rounded-md z-1 mt-1 p-2 shadow-sm w-auto">
                    <div class="px-4 py-3 text-sm text-gray-900">
                        <div>{{ authService.getUserInfo().username }}</div>
                        <div class="font-medium truncate">
                            {{ authService.getUserInfo().email }}
                        </div>
                    </div>
                    <ul
                        class="py-2 text-sm text-gray-700"
                        aria-labelledby="dropdownInformationButton">
                        <li>
                            <a
                                id="profile-navbar-button"
                                routerLink="/user-profile/{{
                                    this.authService.getUserInfo().id
                                }}"
                                class="block px-4 py-2 hover:bg-gray-100"
                                >Profile</a
                            >
                        </li>
                        <li>
                            <button
                                (click)="logout()"
                                class="block px-4 py-2 hover:bg-gray-100">
                                Logout
                            </button>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    }
</div>
